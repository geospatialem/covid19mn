function getZoomNumber(){return document.documentElement.clientHeight>=900?7:6}const map=L.map("covidmap").setView([46.37,-93.88],getZoomNumber()),EsriDarkGrayCanvas=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}").addTo(map),EsriDarkGrayCanvasRef=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}").addTo(map);function setColor(popRate){return popRate>50.2?"#000":popRate>21.4?"#006d2c":popRate>10?"#31a354":popRate>5.3?"#74c476":popRate>1.5?"#bae4b3":"#edf8e9"}const mnCovidData=new L.GeoJSON.AJAX("data/mnCOVID19Data.json",{attribution:"Data: <a href='https://www.health.state.mn.us/'>Minnesota Department of Health</a> | Analysis: Matt Lindholm | Map: <a href='http://geospatialem.github.io'>Kitty Hurley</a>",style:function(feature){return{color:"#D3D3D3",weight:1,fillColor:setColor(feature.properties.PER_100K_3_26),fillOpacity:.75,opacity:1,clickable:!0}},onEachFeature:function(feature,layer){layer.bindPopup("<h2>"+feature.properties.NAME+" County</h2><b>Rate per 100,000 people: "+feature.properties.PER_100K_3_26.toFixed(1)+"</b><br />Beds per 1,000 people: "+feature.properties.PER_1K_BEDS_3_26.toFixed(0)+"<br />Cases: "+feature.properties.CASES_3_26.toFixed(0)+"<br /><br /><i>Last updated: Thurs., 3/26</i>")}}).addTo(map),mapLegend=L.control();mapLegend.onAdd=function(map){return this._div=L.DomUtil.create("div","mapLegend"),this.update(),this._div},mapLegend.update=function(){this._div.innerHTML='<h4>COVID-19 in Minnesota</h4><img src="images/legend.png" width="95" height="90" alt=""><p><i>Updated Thurs., 3/26</i></p>'},mapLegend.addTo(map);